in-memory данные должны сохраняться в мапу, потом в бд 
мапа и должна быть кэшем

Отдавать данные нужно из кеша, т.e. при отдаче данных 
сначала идем в кеш, потом в бд

